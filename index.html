<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Darkdight000999 Dashboard</title>
  <style>
    body { margin:0; font-family:sans-serif; background:#1e1e2f; color:#fff; }
    .header { height:60px; display:flex; justify-content:space-between; align-items:center;
      padding:0 20px; background:rgba(255,255,255,0.1); backdrop-filter:blur(10px);}
    .sidebar { position:fixed; top:60px; left:-240px; width:240px; height:calc(100% - 60px);
      background:rgba(255,255,255,0.1); transition:.3s; overflow:auto; }
    .sidebar.open { left:0; }
    .sidebar ul { list-style:none; padding:0; margin:0; }
    .sidebar li { padding:15px; cursor:pointer; }
    .sidebar li:hover { background:rgba(255,255,255,0.2); }
    .content { margin-left:0; padding:20px; transition:.3s; }
    .sidebar.open ~ .content { margin-left:240px; }
    .login-page { display:flex; justify-content:center; align-items:center; height:100vh; }
    .login-box { background:rgba(255,255,255,0.1); padding:20px; border-radius:10px; }
    input,button { width:100%; padding:10px; margin:5px 0; border:none; border-radius:5px; }
    button { background:#6c63ff; color:#fff; cursor:pointer; }
    .chat-box { border:1px solid #444; height:300px; overflow-y:auto; padding:10px; background:#2a2a40; }
    .chat-input { display:flex; margin-top:10px; }
    .chat-input input { flex:1; }
    .student-list li { display:flex; justify-content:space-between; }
    .blocked { color:red; }
  </style>
</head>
<body>

<!-- Login -->
<div class="login-page" id="loginPage">
  <div class="login-box">
    <h2>Login</h2>
    <input type="email" id="email" placeholder="Email">
    <input type="password" id="password" placeholder="Password">
    <button onclick="login()">Login</button>
  </div>
</div>

<!-- Dashboard -->
<div id="dashboard" style="display:none;">
  <div class="header">
    <span onclick="toggleSidebar()">☰ Menu</span>
    <h1>Darkdight000999</h1>
    <button onclick="logout()">Logout</button>
  </div>

  <div class="sidebar" id="sidebar">
    <ul>
      <li onclick="showSection('home')">Home</li>
      <li onclick="showSection('chat')">Chat</li>
      <li onclick="showSection('students')">Student List</li>
      <li id="uploadMenu" style="display:none;" onclick="showSection('upload')">Upload (Admin)</li>
    </ul>
  </div>

  <div class="content" id="content">
    <div id="homeSection"><h2>Welcome Dashboard</h2></div>

    <!-- Chat -->
    <div id="chatSection" style="display:none;">
      <h2>Chat</h2>
      <div class="chat-box" id="chatBox"></div>
      <div class="chat-input">
        <input type="text" id="chatMessage" placeholder="Type a message...">
        <button onclick="sendMessage()">Send</button>
      </div>
    </div>

    <!-- Student Management (Admin) -->
    <div id="studentsSection" style="display:none;">
      <h2>Students</h2>
      <ul id="studentList" class="student-list"></ul>
    </div>

    <!-- Upload (Admin Only) -->
    <div id="uploadSection" style="display:none;">
      <h2>Upload Content (Admin Only)</h2>
      <input type="file" id="fileUpload">
      <button onclick="uploadFile()">Upload</button>
      <div id="uploadStatus"></div>
    </div>
  </div>
</div>

<script>
  // Users
  const users = [
    { email:"admin01@gmail.com", password:"admin123", role:"Admin", blocked:false },
    { email:"student1@gmail.com", password:"pass1", role:"Student", blocked:false },
    { email:"student2@gmail.com", password:"pass2", role:"Student", blocked:false },
    { email:"student3@gmail.com", password:"pass3", role:"Student", blocked:false },
    { email:"student4@gmail.com", password:"pass4", role:"Student", blocked:false },
    { email:"student5@gmail.com", password:"pass5", role:"Student", blocked:false },
    { email:"student6@gmail.com", password:"pass6", role:"Student", blocked:false },
    { email:"student7@gmail.com", password:"pass7", role:"Student", blocked:false },
    { email:"student8@gmail.com", password:"pass8", role:"Student", blocked:false },
    { email:"student9@gmail.com", password:"pass9", role:"Student", blocked:false },
    { email:"student10@gmail.com", password:"pass10", role:"Student", blocked:false }
  ];

  let currentUser=null;
  let messages=[];

  function login(){
    const email=document.getElementById("email").value;
    const password=document.getElementById("password").value;
    const user=users.find(u=>u.email===email && u.password===password);

    if(user){
      if(user.blocked){ alert("❌ You are blocked by Admin"); return; }
      currentUser=user;
      document.getElementById("loginPage").style.display="none";
      document.getElementById("dashboard").style.display="block";
      if(user.role==="Admin"){ document.getElementById("uploadMenu").style.display="block"; }
      loadStudents();
      loadChat();
    } else {
      alert("Invalid Email or Password");
    }
  }

  function logout(){
    currentUser=null;
    document.getElementById("loginPage").style.display="flex";
    document.getElementById("dashboard").style.display="none";
  }

  function toggleSidebar(){ document.getElementById("sidebar").classList.toggle("open"); }

  function showSection(sec){
    ["home","chat","students","upload"].forEach(s=>{
      document.getElementById(s+"Section").style.display=(sec===s)?"block":"none";
    });
  }

  // Student Management
  function loadStudents(){
    const list=document.getElementById("studentList");
    list.innerHTML="";
    users.filter(u=>u.role==="Student").forEach(st=>{
      const li=document.createElement("li");
      li.innerHTML=`${st.email} ${st.blocked?'<span class="blocked">(Blocked)</span>':''} 
      ${currentUser.role==="Admin" ? `<button onclick="toggleBlock('${st.email}')">${st.blocked?"Unblock":"Block"}</button>`:""}`;
      list.appendChild(li);
    });
  }

  function toggleBlock(email){
    const student=users.find(u=>u.email===email);
    student.blocked=!student.blocked;
    loadStudents();
  }

  // Upload (Demo)
  function uploadFile(){
    const file=document.getElementById("fileUpload").files[0];
    if(file){ document.getElementById("uploadStatus").innerText="✅ Uploaded: "+file.name; }
    else{ alert("Select file first"); }
  }

  // Chat
  function sendMessage(){
    const msg=document.getElementById("chatMessage").value;
    if(msg.trim()==="") return;
    messages.push({ user:currentUser.email, text:msg });
    document.getElementById("chatMessage").value="";
    loadChat();
  }

  function loadChat(){
    const box=document.getElementById("chatBox");
    box.innerHTML="";
    messages.forEach(m=>{
      const p=document.createElement("p");
      p.innerHTML=`<b>${m.user}:</b> ${m.text}`;
      box.appendChild(p);
    });
    box.scrollTop=box.scrollHeight;
  }
</script>
</body>
</html>
