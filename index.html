<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Dashboard</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    * {margin:0;padding:0;box-sizing:border-box;font-family:Arial, sans-serif;}
    body {
      display:flex;
      background:#1e1e2f;
      color:white;
      height:100vh;
      overflow:hidden;
    }

    /* Sidebar */
    .sidebar {
      width:240px;
      background:#2c2f48;
      padding:20px 0;
      display:flex;
      flex-direction:column;
      align-items:center;
    }
    .logo {
      margin-bottom:30px;
      width:80px;
      height:80px;
      border-radius:50%;
      background:#333 url('https://via.placeholder.com/80') no-repeat center/cover;
      border:3px solid cyan;
    }
    .sidebar ul {
      list-style:none;
      width:100%;
    }
    .sidebar ul li {
      padding:15px 25px;
      display:flex;
      align-items:center;
      gap:15px;
      color:#ddd;
      cursor:pointer;
      transition:0.3s;
      position:relative;
    }
    .sidebar ul li:hover {
      background:#3c3f5a;
      color:white;
    }
    .sidebar ul li i {
      position:relative;
      font-size:20px;
      z-index:2;
    }
    /* RGB Ring for Icons */
    .sidebar ul li i::before {
      content:"";
      position:absolute;
      top:-10px;left:-10px;
      width:40px;height:40px;
      border-radius:50%;
      background:conic-gradient(red,yellow,lime,cyan,blue,magenta,red);
      animation:rotate 4s linear infinite;
      z-index:-1;
    }
    .sidebar ul li i::after {
      content:"";
      position:absolute;
      top:-6px;left:-6px;
      width:32px;height:32px;
      border-radius:50%;
      background:#2c2f48;
      z-index:1;
    }
    @keyframes rotate {from{transform:rotate(0);}to{transform:rotate(360deg);}}

    /* Main Content */
    .main {
      flex:1;
      display:flex;
      flex-direction:column;
    }
    .topbar {
      height:60px;
      background:#2c2f48;
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:0 20px;
    }
    .chatbox {
      flex:1;
      background:#1e1e2f;
      display:flex;
      flex-direction:column;
      padding:15px;
      overflow:hidden;
    }
    .messages {
      flex:1;
      overflow-y:auto;
      padding:10px;
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .msg {
      max-width:60%;
      padding:10px 15px;
      border-radius:15px;
      font-size:14px;
      position:relative;
    }
    .msg.student {
      align-self:flex-start;
      background:#3a3f5c;
    }
    .msg.admin {
      align-self:flex-end;
      background:#ff0057;
    }
    .msg small {
      display:block;
      font-size:10px;
      opacity:0.7;
      margin-top:5px;
    }
    .input-area {
      display:flex;
      gap:10px;
      padding:10px;
      background:#2c2f48;
    }
    .input-area input {
      flex:1;
      padding:10px;
      border:none;
      border-radius:10px;
      outline:none;
    }
    .input-area button {
      padding:10px 20px;
      border:none;
      border-radius:10px;
      background:#ff0057;
      color:white;
      cursor:pointer;
    }
  </style>
</head>
<body>
  <div class="sidebar">
    <div class="logo"></div>
    <ul id="menu">
      <li><i class="fas fa-home"></i> Home</li>
      <li><i class="fab fa-youtube"></i> YouTube Videos</li>
      <li><i class="fas fa-file-pdf"></i> PDF & Notes</li>
      <li><i class="fas fa-terminal"></i> Hacking Commands</li>
      <li><i class="fas fa-user-secret"></i> Hacking</li>
      <li><i class="fas fa-video"></i> Live Class</li>
      <li><i class="fas fa-headset"></i> Contact & Support</li>
    </ul>
  </div>

  <div class="main">
    <div class="topbar">
      <h3 id="roleDisplay">Dashboard</h3>
      <span id="usernameDisplay"></span>
    </div>

    <!-- Chat Section -->
    <div class="chatbox">
      <div class="messages" id="messages"></div>
      <div class="input-area">
        <input type="text" id="msgInput" placeholder="Type a message...">
        <button onclick="sendMessage()">Send</button>
      </div>
    </div>
  </div>

<script>
  // Load role from login
  const role = localStorage.getItem("role") || "student";
  const username = localStorage.getItem("username") || "Guest";
  document.getElementById("roleDisplay").innerText = role === "admin" ? "Admin Panel" : "Student Panel";
  document.getElementById("usernameDisplay").innerText = username;

  // Extra menu for admin
  if(role === "admin"){
    const menu = document.getElementById("menu");
    menu.innerHTML += `
      <li><i class="fas fa-upload"></i> Upload Manager</li>
      <li><i class="fas fa-users"></i> Manage Students</li>
      <li><i class="fas fa-bullhorn"></i> Announcements</li>
      <li><i class="fas fa-chart-line"></i> Analytics</li>
    `;
  }

  // Chat
  let messages = JSON.parse(localStorage.getItem("messages") || "[]");
  const msgBox = document.getElementById("messages");

  function renderMessages(){
    msgBox.innerHTML = "";
    messages.forEach(m=>{
      const div = document.createElement("div");
      div.className = "msg " + m.role;
      div.innerHTML = `<strong>${m.user}</strong><br>${m.text}<small>${m.time}</small>`;
      msgBox.appendChild(div);
    });
    msgBox.scrollTop = msgBox.scrollHeight;
  }
  renderMessages();

  function sendMessage(){
    const text = document.getElementById("msgInput").value.trim();
    if(!text) return;
    const msg = {
      user: username,
      role: role,
      text: text,
      time: new Date().toLocaleTimeString()
    };
    messages.push(msg);
    localStorage.setItem("messages", JSON.stringify(messages));
    document.getElementById("msgInput").value = "";
    renderMessages();
  }
</script>
</body>
</html>
