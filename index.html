<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pro Student Portal</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    body {margin:0;font-family:Arial,sans-serif;background:#1a1c2b;color:white;overflow-x:hidden;}
    h2{margin:15px 0;}
    .navbar{height:60px;background:#25273b;display:flex;align-items:center;justify-content:space-between;padding:0 15px;box-shadow:0 2px 8px rgba(0,0,0,0.4);}
    .navbar .left{display:flex;align-items:center;gap:10px;}
    .navbar button{background:transparent;border:none;color:white;font-size:24px;cursor:pointer;}
    .username{font-weight:bold;}
    .sidebar{position:fixed;top:60px;left:0;height:calc(100% - 60px);width:70px;background:#2c2f48;transition:.3s;overflow:hidden;box-shadow:2px 0 10px rgba(0,0,0,0.3);}
    .sidebar.expanded{width:240px;}
    .sidebar .logo{display:flex;align-items:center;gap:10px;padding:15px;}
    .sidebar .logo span{font-size:18px;font-weight:bold;opacity:0;transition:.3s;}
    .sidebar.expanded .logo span{opacity:1;}
    .sidebar ul{list-style:none;padding:0;margin:0;}
    .sidebar ul li{display:flex;align-items:center;gap:15px;padding:15px;cursor:pointer;transition:.2s;position:relative;}
    .sidebar ul li i{position:relative;font-size:22px;z-index:2;}
    .sidebar ul li i::before{content:"";position:absolute;top:-8px;left:-8px;width:40px;height:40px;border-radius:50%;background:conic-gradient(red,yellow,lime,cyan,blue,magenta,red);animation:rotateRing 3s linear infinite;z-index:-1;}
    .sidebar ul li i::after{content:"";position:absolute;top:-4px;left:-4px;width:32px;height:32px;border-radius:50%;background:#2c2f48;z-index:1;}
    @keyframes rotateRing{from{transform:rotate(0);}to{transform:rotate(360deg);}}
    .sidebar ul li span{opacity:0;transition:.3s;}
    .sidebar.expanded ul li span{opacity:1;}
    .sidebar ul li:hover{background:rgba(255,255,255,0.15);transform:translateX(5px);}
    .main{margin-left:70px;padding:20px;transition:.3s;}
    .sidebar.expanded ~ .main{margin-left:240px;}
    section{display:none;}
    section.active{display:block;}
    .chat-box{background:rgba(255,255,255,0.08);border-radius:15px;padding:10px;height:400px;display:flex;flex-direction:column;}
    .messages{flex:1;overflow-y:auto;padding:10px;}
    .msg{max-width:70%;padding:10px;border-radius:10px;margin:5px 0;}
    .msg.self{background:#4cafef;color:white;float:right;clear:both;}
    .msg.other{background:#2c2f48;color:white;float:left;clear:both;}
    .chat-input{display:flex;gap:10px;margin-top:10px;}
    .chat-input input{flex:1;padding:8px;border-radius:8px;border:none;}
    .chat-input button{background:#4cafef;border:none;color:white;padding:8px 15px;border-radius:8px;cursor:pointer;}
    iframe{width:100%;height:400px;border-radius:12px;border:none;}
    textarea{width:100%;height:80px;border-radius:8px;padding:8px;}
    .adminOnly{display:none;}
  </style>
</head>
<body>

  <!-- Navbar -->
  <div class="navbar">
    <div class="left">
      <button id="menuToggle"><i class="fas fa-bars"></i></button>
      <span class="username" id="usernameDisplay">Guest</span>
    </div>
    <div class="right"><button onclick="logout()">Logout</button></div>
  </div>

  <!-- Sidebar -->
  <div class="sidebar" id="sidebar">
    <div class="logo"><img src="logo.png" width="40" height="40" style="border-radius:50%"><span>MyApp</span></div>
    <ul>
      <li onclick="showSection('home')"><i class="fas fa-home"></i><span>Home</span></li>
      <li onclick="showSection('youtube')"><i class="fab fa-youtube"></i><span>Youtube Videos</span></li>
      <li onclick="showSection('uploads')"><i class="fas fa-file-pdf"></i><span>PDF & Notes</span></li>
      <li onclick="showSection('chat')"><i class="fas fa-terminal"></i><span>Chat</span></li>
      <li onclick="showSection('live')"><i class="fas fa-video"></i><span>Live Class</span></li>
      <li onclick="showSection('support')"><i class="fas fa-headset"></i><span>Contact & Support</span></li>
      <!-- Admin Menu -->
      <li class="adminOnly" onclick="showSection('uploadManager')"><i class="fas fa-upload"></i><span>Upload Manager</span></li>
      <li class="adminOnly" onclick="showSection('students')"><i class="fas fa-users"></i><span>Manage Students</span></li>
      <li class="adminOnly" onclick="showSection('announce')"><i class="fas fa-bullhorn"></i><span>Announcements</span></li>
      <li class="adminOnly" onclick="showSection('analytics')"><i class="fas fa-chart-bar"></i><span>Analytics</span></li>
    </ul>
  </div>

  <!-- Main Content -->
  <div class="main">

    <section id="home" class="active">
      <h2>Welcome</h2>
      <div id="announcementBox"></div>
      <p>This is the professional student portal dashboard.</p>
    </section>

    <section id="youtube">
      <h2>Youtube Playlist</h2>
      <iframe src="https://www.youtube.com/embed/videoseries?list=PL9reQPbLfmEXG7m6txArrDbusSm1blBlk" allowfullscreen></iframe>
    </section>

    <section id="uploads">
      <h2>PDF & Notes</h2>
      <div id="uploadsContainer"></div>
    </section>

    <section id="chat">
      <h2>Chat System</h2>
      <div class="chat-box">
        <div class="messages" id="chatMessages"></div>
        <div class="chat-input">
          <input type="text" id="chatInput" placeholder="Type a message...">
          <button onclick="sendMessage()">Send</button>
        </div>
      </div>
    </section>

    <section id="live">
      <h2>Live Class</h2>
      <iframe src="https://meet.google.com/" allowfullscreen></iframe>
    </section>

    <section id="support">
      <h2>Contact & Support</h2>
      <p>ðŸ“§ Email: <a href="mailto:support@myapp.com">support@myapp.com</a></p>
      <p>ðŸ’¬ WhatsApp: <a href="https://wa.me/919999999999" target="_blank">Chat on WhatsApp</a></p>
      <p>ðŸ“² Telegram: <a href="https://t.me/YourChannel" target="_blank">Join Telegram</a></p>
    </section>

    <!-- Admin Sections -->
    <section id="uploadManager">
      <h2>Upload Manager (Admin)</h2>
      <input type="file" id="fileUpload">
      <button onclick="uploadFile()">Upload</button>
      <div id="uploadsList"></div>
    </section>

    <section id="students">
      <h2>Manage Students</h2>
      <ul id="studentList"></ul>
    </section>

    <section id="announce">
      <h2>Announcements</h2>
      <textarea id="announcementText" placeholder="Write announcement..."></textarea>
      <button onclick="postAnnouncement()">Post</button>
      <div id="announcementBoard"></div>
    </section>

    <section id="analytics">
      <h2>Analytics</h2>
      <p>Total Students: <span id="totalStudents">0</span></p>
      <p>Total Messages: <span id="totalMessages">0</span></p>
      <p>Total Uploads: <span id="totalUploads">0</span></p>
    </section>

  </div>

  <script>
    let username = localStorage.getItem("username");
    if(!username){
      username = prompt("Enter your name:");
      localStorage.setItem("username",username);
    }
    document.getElementById("usernameDisplay").innerText=username;

    let isAdmin = (username.toLowerCase()==="admin");
    if(isAdmin){
      document.querySelectorAll(".adminOnly").forEach(el=>el.style.display="flex");
    }

    // Student List Save
    let students = JSON.parse(localStorage.getItem("students")||"[]");
    if(!students.includes(username)){ students.push(username); localStorage.setItem("students",JSON.stringify(students)); }

    // Chat History
    let chatHistory=JSON.parse(localStorage.getItem("chat")||"[]");
    function renderChat(){
      const box=document.getElementById("chatMessages");box.innerHTML="";
      chatHistory.forEach(msg=>{
        const div=document.createElement("div");
        div.className="msg "+(msg.user===username?"self":"other");
        div.innerHTML="<b>"+msg.user+"</b><br>"+msg.text;
        box.appendChild(div);
      });
      box.scrollTop=box.scrollHeight;
      document.getElementById("totalMessages").innerText=chatHistory.length;
    }
    function sendMessage(){
      const input=document.getElementById("chatInput");
      if(input.value.trim()!==""){
        chatHistory.push({user:username,text:input.value});
        localStorage.setItem("chat",JSON.stringify(chatHistory));
        input.value="";renderChat();
      }
    }

    // Upload Manager
    let uploads = JSON.parse(localStorage.getItem("uploads")||"[]");
    function uploadFile(){
      const fileInput=document.getElementById("fileUpload");
      if(fileInput.files.length>0){
        let file=fileInput.files[0];
        uploads.push(file.name);
        localStorage.setItem("uploads",JSON.stringify(uploads));
        renderUploads();updateAnalytics();
      }
    }
    function renderUploads(){
      document.getElementById("uploadsContainer").innerHTML=uploads.map(u=>`<p>ðŸ“‚ <a href="#">${u}</a></p>`).join("");
      document.getElementById("uploadsList").innerHTML=uploads.map(u=>`<p>ðŸ“‚ ${u}</p>`).join("");
    }

    // Announcements
    let announcements=JSON.parse(localStorage.getItem("announcements")||"[]");
    function postAnnouncement(){
      let text=document.getElementById("announcementText").value;
      if(text.trim()!==""){
        announcements.push(text);
        localStorage.setItem("announcements",JSON.stringify(announcements));
        renderAnnouncements();
      }
    }
    function renderAnnouncements(){
      document.getElementById("announcementBoard").innerHTML=announcements.map(a=>`<p>ðŸ“¢ ${a}</p>`).join("");
      document.getElementById("announcementBox").innerHTML=announcements.map(a=>`<p>ðŸ“¢ ${a}</p>`).join("");
    }

    // Students
    function renderStudents(){
      document.getElementById("studentList").innerHTML=students.map(s=>`<li>ðŸ‘¤ ${s}</li>`).join("");
      document.getElementById("totalStudents").innerText=students.length;
    }

    // Analytics
    function updateAnalytics(){
      document.getElementById("totalUploads").innerText=uploads.length;
    }

    function logout(){localStorage.clear();location.reload();}

    renderChat();renderUploads();renderAnnouncements();renderStudents();updateAnalytics();

    document.getElementById("menuToggle").addEventListener("click",()=>{document.getElementById("sidebar").classList.toggle("expanded");});
    function showSection(id){
      document.querySelectorAll("section").forEach(sec=>sec.classList.remove("active"));
      document.getElementById(id).classList.add("active");
    }
  </script>
</body>
</html>
